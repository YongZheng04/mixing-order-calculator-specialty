<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <img src="huachang-bg.jpg" alt="Company Logo" style="display:block; margin: 0 auto; max-width: 100px;">
  <title>Mixing Order Calculator (Specialty)</title>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h2>Mixing Order Calculator (Specialty)</h2>

<!-- Part 1: General Inputs -->
<div class="form-row">
  <label for="itemName">Item Name</label>
  <select id="itemName" style="width: 100%">
    <option value="" disabled selected>--Select an item--</option>
  </select>
</div>

<div class="form-row">
  <label for="tonnage">Tonnage (RM)</label>
  <input type="number" id="tonnage" step="0.01" min="0" placeholder="-- Enter your value --"/>
</div>

<div class="form-row">
  <label for="delivery">Delivery</label>
  <select id="delivery">
    <option value="" disabled selected>--Select an option--</option>
    <option value="Ex">Ex</option>
    <option value="Deld">Deld</option>
  </select>
</div>

<div class="form-row">
  <label for="mixingLocation">Mixing Location</label>
  <select id="mixingLocation">
    <option value="" disabled selected>--Select an option--</option>
    <option value="ASAHI">ASAHI</option>
    <option value="HSK">HSK</option>
    <option value="JENJAROM">JENJAROM</option>
    <option value="NSBK">NSBK</option>
    <option value="ORIENTAL">ORIENTAL</option>
    <option value="WIV">WIV</option>
  </select>
</div>

<!-- Part 2: Nutrient Table -->
<div class="form-section">
  <h3>Nutrient Table</h3>
  <table id="nutrientTable">
    <thead>
      <tr>
        <th>Nutrient</th>
        <th>Expected</th>
        <th>Calculated</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td data-label="" class="nutrient-name">N</td>
        <td><span id="expectedN" class="nutrient-value"></span></td>
        <td><span id="calculatedN" class="nutrient-value"></span></td>
      </tr>
      <tr>
        <td data-label="" class="nutrient-name">P₂O₅</td>
        <td><span id="expectedP2O5" class="nutrient-value"></span></td>
        <td><span id="calculatedP2O5" class="nutrient-value"></span></td>
      </tr>
      <tr>
        <td data-label="" class="nutrient-name">K₂O</td>
        <td><span id="expectedK2O" class="nutrient-value"></span></td>
        <td><span id="calculatedK2O" class="nutrient-value"></span></td>
      </tr>
      <tr>
        <td data-label="" class="nutrient-name">MgO</td>
        <td><span id="expectedMgO" class="nutrient-value"></span></td>
        <td><span id="calculatedMgO" class="nutrient-value"></span></td>
      </tr>
      <tr>
        <td data-label="" class="nutrient-name">Total</td>
        <td><span id="expectedTotal" class="nutrient-value"></span></td>
        <td><span id="calculatedTotal" class="nutrient-value"></span></td>
      </tr>
    </tbody>
  </table>
  <div class="button-group">
    <button type="button" id="solve-btn">Solve</button>
  </div>
</div>

<!-- Part 3: Materials Table -->
<div class="form-section">
  <h3>Materials Table</h3>
  <table id="materialTable">
    <thead>
      <tr>
        <th>Material</th>
        <th>Input Ratio (kg)</th>
        <th>Unit Price (RM)</th>
        <th>Total Cost (RM)</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="materialTableBody"></tbody>
  </table>

  <p><strong>Total Input Ratio:</strong> <span id="totalRatio">0</span> kg</p>

  <div class="button-group">
    <button type="button" id="add-btn">Add</button>
  </div>
</div>

<!-- Part 4: Calculations -->
<div class="form-section">
  <h3>Price Table</h3>
  <div class="form-row">
    <label for="sellingPrice">Selling Price (RM/MT)</label>
    <input type="number" id="sellingPrice" step="0.01" min="0" placeholder="-- Enter your value --"/>
  </div>

  <div class="form-row">
    <label for="materialCost">Material Cost (RM/MT)</label>
    <input type="text" id="materialCost" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>

  <div class="form-row">
    <label for="mixingCost">Mixing (RM/MT)</label>
    <input type="text" id="mixingCost" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>

  <div class="form-row">
    <label>Transport In (RM/MT)</label>
    <input type="text" id="transportIn" value="30.00" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>

  <div class="form-row">
    <label for="bagCost">Bag (RM/MT)</label>
    <input type="text" id="bagCost" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>

  <div class="form-row">
    <label for="transportOut">Transport Out (RM/MT)</label>
    <input type="text" id="transportOut" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>

  <div class="form-row">
    <label for="commission">Commission (RM/MT)</label>
    <input type="number" id="commission" step="0.01" min="0" placeholder="-- Enter your value --"/>
  </div>

  <div class="form-row">
    <label for="totalCost">Total Cost (RM/MT)</label>
    <input type="text" id="totalCost" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>

  <div class="form-row">
    <label for="grossProfit">Gross Profit (RM)</label>
    <input type="text" id="grossProfit" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>

  <div class="form-row">
    <label for="gpMargin">GP Margin (%)</label>
    <input type="text" id="gpMargin" readonly/>
    <em style="color: red;">Fixed Value</em>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script src="app.js"></script>
</body>
</html>
